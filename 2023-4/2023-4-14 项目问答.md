# 伙伴匹配系统：

#### 1. 用户登录使用Redis实现分布式Session，解决集群间登录态同步问题

像这个集群间登录态的问题，主要是因为单点的应用从单个的Tomcat服务器变成了一个集群服务器，那么将用户信息存储到Tomcat的session域里就行不通了，因为tomcat之间是独立的，而session互不共享。

这个时候需要一个外部的中间件去存储这些需要共享的信息，也就是redis，这里因为要区分各个用户，所以在为用户信息设置key的时候需要一个全局唯一的id，这里我使用的是业务前缀字符串拼接UUID生成随机数的方式存储，redis的数据结构的是hash，这样一来，就用redis实现了session共享信息的业务。

#### 2. Redis缓存首页高频访问的用户信息列表，提高访问速度

首页信息作为应用中被访问频率最高的数据，如果每次都去数据库中请求数据，那么首页回显数据的速度就会很慢。这种情况下，我们可以直接把首页的信息作为值传入redis中，使用redis存储这部分热点数据。

如果在redis中存储这部分信息，就需要考虑它的过期时间设置的问题。因为首页信息被访问最频繁的数据，所以这里需要考虑缓存击穿，缓存雪崩的问题。

解决缓存雪崩，可以在过期时间上加上随机时间，避免首页信息同时过期，所有请求全部打在数据库上。



Orcale帐户密码：Lhj2001124!





​	